(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-details-details"],{"0066":function(t,e,n){var i=n("24fb");e=i(!1),e.push([t.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.u-model[data-v-fad1e88e]{height:auto;overflow:hidden;font-size:%?32?%;background-color:#fff}.u-model__btn--hover[data-v-fad1e88e]{background-color:#e6e6e6}.u-model__title[data-v-fad1e88e]{padding-top:%?48?%;font-weight:500;text-align:center;color:#303133}.u-model__content__message[data-v-fad1e88e]{padding:%?48?%;font-size:%?30?%;text-align:center;color:#606266}.u-model__footer[data-v-fad1e88e]{display:flex;flex-direction:row}.u-model__footer__button[data-v-fad1e88e]{flex:1;height:%?100?%;line-height:%?100?%;font-size:%?32?%;box-sizing:border-box;cursor:pointer;text-align:center;border-radius:%?4?%}',""]),t.exports=e},"0675":function(t,e,n){var i=n("c4a0");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var a=n("4f06").default;a("1a14e066",i,!0,{sourceMap:!1,shadowMode:!1})},1103:function(t,e,n){"use strict";n.r(e);var i=n("c738"),a=n.n(i);for(var o in i)"default"!==o&&function(t){n.d(e,t,(function(){return i[t]}))}(o);e["default"]=a.a},"1c10":function(t,e,n){"use strict";n("a9e3"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={name:"u-modal",props:{value:{type:Boolean,default:!1},zIndex:{type:[Number,String],default:""},title:{type:[String],default:"提示"},width:{type:[Number,String],default:600},content:{type:String,default:"内容"},showTitle:{type:Boolean,default:!0},showConfirmButton:{type:Boolean,default:!0},showCancelButton:{type:Boolean,default:!1},confirmText:{type:String,default:"确认"},cancelText:{type:String,default:"取消"},confirmColor:{type:String,default:"#2979ff"},cancelColor:{type:String,default:"#606266"},borderRadius:{type:[Number,String],default:16},titleStyle:{type:Object,default:function(){return{}}},contentStyle:{type:Object,default:function(){return{}}},cancelStyle:{type:Object,default:function(){return{}}},confirmStyle:{type:Object,default:function(){return{}}},zoom:{type:Boolean,default:!0},asyncClose:{type:Boolean,default:!1},maskCloseAble:{type:Boolean,default:!1},negativeTop:{type:[String,Number],default:0}},data:function(){return{loading:!1}},computed:{cancelBtnStyle:function(){return Object.assign({color:this.cancelColor},this.cancelStyle)},confirmBtnStyle:function(){return Object.assign({color:this.confirmColor},this.confirmStyle)},uZIndex:function(){return this.zIndex?this.zIndex:this.$u.zIndex.popup}},watch:{value:function(t){!0===t&&(this.loading=!1)}},methods:{confirm:function(){this.asyncClose?this.loading=!0:this.$emit("input",!1),this.$emit("confirm")},cancel:function(){var t=this;this.$emit("cancel"),this.$emit("input",!1),setTimeout((function(){t.loading=!1}),300)},popupClose:function(){this.$emit("input",!1)},clearLoading:function(){this.loading=!1}}};e.default=i},"1ffd":function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return i}));var i={uAvatar:n("fc0a").default,uIcon:n("57fa").default,uniIcons:n("0e0f").default,uParse:n("b069").default,uImage:n("a4ce").default,comment:n("74bd").default,uEmpty:n("bff3").default,ygcComment:n("3376").default,uBackTop:n("73d6").default,uModal:n("f843").default},a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticStyle:{"padding-bottom":"35rpx"}},[n("v-uni-view",{staticClass:"top"},[n("v-uni-view",{staticClass:"textitem"},[n("v-uni-view",{staticClass:"content"},[n("v-uni-view",[n("u-avatar",{attrs:{size:"large",src:t.user_id.avatar_file?t.user_id.avatar_file.url:"/static/uni-center/tx.jpg"}})],1),n("v-uni-view",{staticClass:"name"},[n("v-uni-view",{staticStyle:{display:"flex","align-items":"center","font-size":"30rpx"}},[n("v-uni-view",[t._v(t._s(t.user_id.nickname?t.user_id.nickname:t.user_id.mobile))]),n("v-uni-view",{staticStyle:{"margin-left":"15rpx",color:"#5A93F0"}},[t._v(t._s(t.statetext))])],1),n("v-uni-view",{staticStyle:{display:"flex"}},[n("v-uni-view",{staticStyle:{"font-size":"28rpx",color:"#C6C8CB"}},[t._v(t._s(t.$u.timeFrom(t.time,"yyyy-mm-dd hh:MM:ss")))]),n("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:!t.isShow&&t.isShow_id==t.user_id._id,expression:"!isShow && isShow_id==user_id._id "}],staticStyle:{"font-size":"26rpx",color:"#C6C8CB",display:"flex","margin-left":"20rpx"}},[n("u-icon",{attrs:{name:"lock",color:"#C6C8CB",size:"26"}}),n("v-uni-view",[t._v("仅自己可见")])],1)],1)],1),t.user_id._id==t.isShow_id?n("v-uni-view",{staticStyle:{flex:"1",display:"flex","justify-content":"flex-end","margin-right":"5rpx","margin-top":"10rpx"}},[n("uni-icons",{attrs:{type:"trash-filled",size:"22"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.showDelete=!0}}})],1):t._e()],1)],1)],1),n("v-uni-view",{staticClass:"line"}),n("v-uni-view",{staticClass:"rich"},[n("u-parse",{attrs:{html:t.text.replace(/\n/g,"<br>")}})],1),n("v-uni-view",{staticStyle:{"padding-left":"20rpx",display:"flex"}},t._l(t.img_url,(function(e){return n("v-uni-view",[1==t.img_url.length&&t.img_url[0].image.width>900?n("v-uni-image",{staticClass:"u-image",style:{width:9*t.img_url[0].image.width/35+"rpx"},attrs:{"lazy-load":!0,mode:"widthFix",src:e.url},on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.look(e.url)}}}):t._e(),1==t.img_url.length&&t.img_url[0].image.width<900?n("v-uni-image",{staticClass:"u-image",style:{width:9*t.img_url[0].image.width/12+"rpx"},attrs:{"lazy-load":!0,mode:"widthFix",src:e.url},on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.look(e.url)}}}):t._e(),n("v-uni-view",[t.img_url.length>=2&&t.img_url.length<=5&&t.img_url.length%2==0?n("v-uni-view",{staticClass:"image1"},[n("u-image",{staticClass:"u-image",staticStyle:{"margin-left":"10rpx","margin-bottom":"10rpx"},attrs:{src:e.url,width:"45vw",height:"45vw"},on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.look(e.url)}}})],1):t._e(),3==t.img_url.length||6==t.img_url.length?n("v-uni-view",{staticClass:"image1"},[n("u-image",{staticClass:"u-image",staticStyle:{"margin-left":"10rpx","margin-bottom":"10rpx"},attrs:{src:e.url,width:"30vw",height:"30vw"},on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.look(e.url)}}})],1):t._e()],1)],1)})),1),t.address?n("v-uni-view",{staticClass:"address"},[n("u-icon",{attrs:{name:"map",color:"#A5ACBD",size:"26"}}),n("v-uni-view",{staticStyle:{color:"#A5ACBD","font-size":"26rpx"}},[t._v(t._s(t.address))])],1):t._e(),n("v-uni-view",{staticClass:"watch"},[n("v-uni-view",[t.isdz?n("u-icon",{attrs:{name:"thumb-up-fill",size:"40",color:"#F3295C"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.dz.apply(void 0,arguments)}}}):n("u-icon",{attrs:{name:"thumb-up",size:"40",color:"#909399"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.dz.apply(void 0,arguments)}}})],1),n("v-uni-view",{staticClass:"right"},[n("v-uni-view",{staticStyle:{"margin-right":"15rpx"}},[t._v(t._s(t.watch)+"次浏览")]),n("v-uni-view",[t._v(t._s(t.lengths)+"人点赞")])],1)],1),n("v-uni-view",{staticStyle:{width:"100vw",height:"15rpx","background-color":"#EEEEEE"}}),n("v-uni-view",{staticClass:"bottom-title"},[n("v-uni-view",[t._v("全部评论")]),n("v-uni-view",{staticStyle:{color:"#859BF5"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.comment(1)}}},[t._v("评论")])],1),n("v-uni-view",{staticClass:"line",staticStyle:{"margin-bottom":"20rpx"}}),t.commentlist.length?n("comment",{attrs:{user:t.user_id,comments:t.commentlist},on:{"comment-like":function(e){arguments[0]=e=t.$handleEvent(e),t.handLike.apply(void 0,arguments)},"send-comment":function(e){arguments[0]=e=t.$handleEvent(e),t.handSend.apply(void 0,arguments)},lower:function(e){arguments[0]=e=t.$handleEvent(e),t.lower.apply(void 0,arguments)},reply:function(e){arguments[0]=e=t.$handleEvent(e),t.reply.apply(void 0,arguments)}},model:{value:t.commentText,callback:function(e){t.commentText=e},expression:"commentText"}}):n("v-uni-view",{on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.comment(1)}}},[n("u-empty",{attrs:{text:"还没有评论哦,赶快来评论吧...",mode:"message","icon-size":"200","mask-close-able":!0}})],1),n("ygc-comment",{ref:"ygcComment",attrs:{placeholder:t.placeholderComment},on:{pubComment:function(e){arguments[0]=e=t.$handleEvent(e),t.pubComment.apply(void 0,arguments)}}}),n("u-back-top",{attrs:{"scroll-top":t.scrollTop}}),n("u-modal",{attrs:{title:"删除提醒","show-cancel-button":!0,content:"是否删除该这条动态吗？"},on:{confirm:function(e){arguments[0]=e=t.$handleEvent(e),t.Delete.apply(void 0,arguments)}},model:{value:t.showDelete,callback:function(e){t.showDelete=e},expression:"showDelete"}})],1)},o=[]},"213d":function(t,e,n){"use strict";n.r(e);var i=n("f8b2"),a=n.n(i);for(var o in i)"default"!==o&&function(t){n.d(e,t,(function(){return i[t]}))}(o);e["default"]=a.a},"2fc1":function(t,e,n){var i=n("e657");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var a=n("4f06").default;a("1567944b",i,!0,{sourceMap:!1,shadowMode:!1})},"331e":function(t,e,n){var i=n("edce");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var a=n("4f06").default;a("362bfa6a",i,!0,{sourceMap:!1,shadowMode:!1})},3376:function(t,e,n){"use strict";n.r(e);var i=n("832c"),a=n("4d35");for(var o in a)"default"!==o&&function(t){n.d(e,t,(function(){return a[t]}))}(o);n("688c");var r,s=n("f0c5"),c=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,"70d9c9cd",null,!1,i["a"],r);e["default"]=c.exports},"393e":function(t,e,n){var i=n("24fb");e=i(!1),e.push([t.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.u-loading-circle[data-v-636b7930]{display:inline-flex;vertical-align:middle;width:%?28?%;height:%?28?%;background:0 0;border-radius:50%;border:2px solid;border-color:#e5e5e5 #e5e5e5 #e5e5e5 #8f8d8e;-webkit-animation:u-circle-data-v-636b7930 1s linear infinite;animation:u-circle-data-v-636b7930 1s linear infinite}.u-loading-flower[data-v-636b7930]{width:20px;height:20px;display:inline-block;vertical-align:middle;-webkit-animation:a 1s steps(12) infinite;animation:u-flower-data-v-636b7930 1s steps(12) infinite;background:transparent url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMjAiIGhlaWdodD0iMTIwIiB2aWV3Qm94PSIwIDAgMTAwIDEwMCI+PHBhdGggZmlsbD0ibm9uZSIgZD0iTTAgMGgxMDB2MTAwSDB6Ii8+PHJlY3Qgd2lkdGg9IjciIGhlaWdodD0iMjAiIHg9IjQ2LjUiIHk9IjQwIiBmaWxsPSIjRTlFOUU5IiByeD0iNSIgcnk9IjUiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAgLTMwKSIvPjxyZWN0IHdpZHRoPSI3IiBoZWlnaHQ9IjIwIiB4PSI0Ni41IiB5PSI0MCIgZmlsbD0iIzk4OTY5NyIgcng9IjUiIHJ5PSI1IiB0cmFuc2Zvcm09InJvdGF0ZSgzMCAxMDUuOTggNjUpIi8+PHJlY3Qgd2lkdGg9IjciIGhlaWdodD0iMjAiIHg9IjQ2LjUiIHk9IjQwIiBmaWxsPSIjOUI5OTlBIiByeD0iNSIgcnk9IjUiIHRyYW5zZm9ybT0icm90YXRlKDYwIDc1Ljk4IDY1KSIvPjxyZWN0IHdpZHRoPSI3IiBoZWlnaHQ9IjIwIiB4PSI0Ni41IiB5PSI0MCIgZmlsbD0iI0EzQTFBMiIgcng9IjUiIHJ5PSI1IiB0cmFuc2Zvcm09InJvdGF0ZSg5MCA2NSA2NSkiLz48cmVjdCB3aWR0aD0iNyIgaGVpZ2h0PSIyMCIgeD0iNDYuNSIgeT0iNDAiIGZpbGw9IiNBQkE5QUEiIHJ4PSI1IiByeT0iNSIgdHJhbnNmb3JtPSJyb3RhdGUoMTIwIDU4LjY2IDY1KSIvPjxyZWN0IHdpZHRoPSI3IiBoZWlnaHQ9IjIwIiB4PSI0Ni41IiB5PSI0MCIgZmlsbD0iI0IyQjJCMiIgcng9IjUiIHJ5PSI1IiB0cmFuc2Zvcm09InJvdGF0ZSgxNTAgNTQuMDIgNjUpIi8+PHJlY3Qgd2lkdGg9IjciIGhlaWdodD0iMjAiIHg9IjQ2LjUiIHk9IjQwIiBmaWxsPSIjQkFCOEI5IiByeD0iNSIgcnk9IjUiIHRyYW5zZm9ybT0icm90YXRlKDE4MCA1MCA2NSkiLz48cmVjdCB3aWR0aD0iNyIgaGVpZ2h0PSIyMCIgeD0iNDYuNSIgeT0iNDAiIGZpbGw9IiNDMkMwQzEiIHJ4PSI1IiByeT0iNSIgdHJhbnNmb3JtPSJyb3RhdGUoLTE1MCA0NS45OCA2NSkiLz48cmVjdCB3aWR0aD0iNyIgaGVpZ2h0PSIyMCIgeD0iNDYuNSIgeT0iNDAiIGZpbGw9IiNDQkNCQ0IiIHJ4PSI1IiByeT0iNSIgdHJhbnNmb3JtPSJyb3RhdGUoLTEyMCA0MS4zNCA2NSkiLz48cmVjdCB3aWR0aD0iNyIgaGVpZ2h0PSIyMCIgeD0iNDYuNSIgeT0iNDAiIGZpbGw9IiNEMkQyRDIiIHJ4PSI1IiByeT0iNSIgdHJhbnNmb3JtPSJyb3RhdGUoLTkwIDM1IDY1KSIvPjxyZWN0IHdpZHRoPSI3IiBoZWlnaHQ9IjIwIiB4PSI0Ni41IiB5PSI0MCIgZmlsbD0iI0RBREFEQSIgcng9IjUiIHJ5PSI1IiB0cmFuc2Zvcm09InJvdGF0ZSgtNjAgMjQuMDIgNjUpIi8+PHJlY3Qgd2lkdGg9IjciIGhlaWdodD0iMjAiIHg9IjQ2LjUiIHk9IjQwIiBmaWxsPSIjRTJFMkUyIiByeD0iNSIgcnk9IjUiIHRyYW5zZm9ybT0icm90YXRlKC0zMCAtNS45OCA2NSkiLz48L3N2Zz4=) no-repeat;background-size:100%}@-webkit-keyframes u-flower-data-v-636b7930{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes u-flower-data-v-636b7930{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes u-circle-data-v-636b7930{0%{-webkit-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}',""]),t.exports=e},4972:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={name:"ygcComment",props:{placeholder:{type:String}},data:function(){return{maskState:0,content:"",focus:!1}},mounted:function(){this.$bus.$on("toggleMask",this.toggleMask)},methods:{stopPrevent:function(){},toggleMask:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"show",n="show"===e?10:300,i="show"===e?1:0;setTimeout((function(){t.maskState=i,t.focus=!!t.maskState}),n)},pubComment:function(){this.$emit("pubComment",this.content),this.content=""}}};e.default=i},"4d35":function(t,e,n){"use strict";n.r(e);var i=n("4972"),a=n.n(i);for(var o in i)"default"!==o&&function(t){n.d(e,t,(function(){return i[t]}))}(o);e["default"]=a.a},"595c":function(t,e,n){"use strict";(function(t){var i=n("4ea4");n("99af"),n("4160"),n("159b"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=i(n("2909"));n("96cf");var o=i(n("1da1")),r=i(n("3376")),s=i(n("74bd")),c={components:{comment:s.default,ygcComment:r.default},data:function(){return{color:["#F0C461","#AF58F2","#F270D0","#4FDC46"],id:"",commentText:"",showDelete:!1,placeholderComment:"说点什么吧...",commentone_id:"",superNickname:"",reply_user_id:"",layer:0,statetext:"",time:"",etext:"",state:null,commentscs:[],type:1,scrollTop:0,isShow_id:this.$store.state.user.info._id,isShow:!0,address:"",_id:"",text:"",watch:0,user_id:{},img_url:[],likedz:[],likesc:[],isdz:!1,lengths:0,commentlist:[]}},onLoad:function(t){var e=this;return(0,o.default)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return e.$bus.$on("comment",e.comment),e.id=t.id,n.next=4,e.getdetails();case 4:return n.next=6,e.addWatch();case 6:return n.next=8,e.getcomments();case 8:e.lengths=e.likedz.length,e.setcomments(),console.log("user",e._id);case 11:case"end":return n.stop()}}),n)})))()},methods:{Delete:function(){var e=this;return(0,o.default)(regeneratorRuntime.mark((function n(){var i,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return i=t.database(),a=i.collection("love"),i.collection("comments"),n.next=5,a.where({_id:e._id}).remove();case 5:return n.next=7,a.where({article_id:e._id}).remove();case 7:e.$u.toast("删除成功");case 8:case"end":return n.stop()}}),n)})))()},addWatch:function(){var e=this;return(0,o.default)(regeneratorRuntime.mark((function n(){var i,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return i=t.database(),a=i.collection("love"),n.next=4,a.where({_id:e._id}).update({watch:e.watch+1});case 4:n.sent;case 5:case"end":return n.stop()}}),n)})))()},look:function(t){var e=[];e.push(t),uni.previewImage({indicator:"number",loop:!0,urls:e,longPressActions:!0})},lower:function(){console.log("到底了")},onPageScroll:function(t){this.scrollTop=t.scrollTop},reply:function(t,e,n,i,a,o){console.log(t,e,n,i,a,o),this.commentone_id=n,this.superNickname=i,this.placeholderComment=t,this.layer=a,this.reply_user_id=o.super_user_id},pubComment:function(e){var n=this;return(0,o.default)(regeneratorRuntime.mark((function i(){var a,o,r,s,c,l;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(a={},o="",r=t.database(),n.$refs.ygcComment.toggleMask("none"),console.log(n.layer),2!=n.layer&&3!=n.layer){i.next=12;break}return i.next=8,r.collection("comments").add({comment_content:e,comment_type:n.layer,article_id:n.id,reply_id:n.commentone_id,reply_user_id:n.reply_user_id,article_user_id:n.user_id._id});case 8:s=i.sent,o=s.result.id,i.next=17;break;case 12:if(1!=n.layer){i.next=17;break}return i.next=15,r.collection("comments").add({comment_content:e,comment_type:n.layer,article_id:n.id,article_user_id:n.user_id._id});case 15:c=i.sent,o=c.result.id;case 17:return i.next=19,r.collection("comments,uni-id-users").where({_id:o}).field("_id,comment_content,reply_id,comment_type,reply_user_id._id,reply_user_id.mobile,reply_user_id.nickname,article_id,time,user_id._id,user_id.mobile,user_id.nickname,user_id.avatar_file.url").get();case 19:l=i.sent,a.id=l.result.data[0]._id,a.avatar=l.result.data[0].user_id[0].avatar_file?l.result.data[0].user_id[0].avatar_file.url:"/static/uni-center/tx.jpg",a.nickname=l.result.data[0].user_id[0].nickname?l.result.data[0].user_id[0].nickname:l.result.data[0].user_id[0].mobile,a.content=l.result.data[0].comment_content,a.addTime=l.result.data[0].time,a.isLike="0",a.user_id=l.result.data[0].user_id[0]._id,1==n.layer?(a.layer=1,a.superCommentId=null,a.superNickname=null,a.children=[],n.commentlist.unshift(a)):2!=n.layer&&3!=n.layer||(a.super_user_id=l.result.data[0].user_id[0]._id,a.layer=l.result.data[0].comment_type,a.superCommentId=l.result.data[0].reply_id,a.superNickname=l.result.data[0].reply_user_id.length?l.result.data[0].reply_user_id[0].nickname||l.result.data[0].reply_user_id[0].mobile:null,n.commentlist.forEach((function(t){1==t.layer&&t.id==l.result.data[0].reply_id&&(t.children.push(a),console.log("767",t))}))),uni.showToast({title:"发表成功"}),console.log("单个评论",l.result.data[0]),console.log("礼拜",n.commentlist);case 31:case"end":return i.stop()}}),i)})))()},comment:function(t){console.log(t),this.layer=t,this.$refs.ygcComment.toggleMask("show")},getcomments:function(){var e=this;return(0,o.default)(regeneratorRuntime.mark((function n(){var i,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return i=t.database(),n.next=3,i.collection("comments,uni-id-users").where({article_id:e.id}).field("_id,comment_content,reply_id,comment_type,reply_user_id._id,reply_user_id.mobile,reply_user_id.nickname,article_id,time,user_id._id,user_id.mobile,user_id.nickname,user_id.avatar_file.url").orderBy("time desc").get();case 3:a=n.sent,e.commentscs=a.result.data;case 5:case"end":return n.stop()}}),n)})))()},setcomments:function(){var t=this;this.commentscs.forEach((function(e){var n={};1==e.comment_type&&(n.id=e._id,n.avatar=e.user_id[0].avatar_file?e.user_id[0].avatar_file.url:"/static/uni-center/tx.jpg",n.nickname=e.user_id[0].nickname?e.user_id[0].nickname:e.user_id[0].mobile,n.content=e.comment_content,n.user_id=e.user_id[0]._id,n.addTime=e.time,n.isLike="0",n.layer=1,n.superNickname=null,n.superCommentId=null,n.children=[],t.commentlist.push(n))})),this.commentscs.forEach((function(e){var n={};2==e.comment_type&&t.commentlist.forEach((function(t){t.id==e.reply_id&&(n.id=e._id,n.avatar=e.user_id[0].avatar_file?e.user_id[0].avatar_file.url:"/static/uni-center/tx.jpg",n.nickname=e.user_id[0].nickname?e.user_id[0].nickname:e.user_id[0].mobile,n.content=e.comment_content,n.user_id=e.user_id[0]._id,n.addTime=e.time,n.isLike="0",n.layer=2,n.super_user_id=e.user_id[0]._id,n.superNickname=t.nickname,n.superCommentId=t.id,t.children.push(n))}))})),this.commentscs.forEach((function(e){var n={};3==e.comment_type&&t.commentlist.forEach((function(t){t.id==e.reply_id&&(n.id=e._id,n.user_id=e.user_id[0]._id,n.avatar=e.user_id[0].avatar_file?e.user_id[0].avatar_file.url:"/static/uni-center/tx.jpg",n.nickname=e.user_id[0].nickname?e.user_id[0].nickname:e.user_id[0].mobile,n.content=e.comment_content,n.addTime=e.time,n.isLike="0",n.layer=3,n.super_user_id=e.user_id[0]._id,n.superNickname=e.reply_user_id[0].nickname?e.reply_user_id[0].nickname:e.reply_user_id[0].mobile,n.superCommentId=t.id,t.children.push(n))}))})),console.log("初始数据",this.commentscs),console.log("评论列表",this.commentlist)},dz:function(){var e=this;return(0,o.default)(regeneratorRuntime.mark((function n(){var i,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(i=t.database(),a={like_id:e.id,state_type:1},!e.isdz){n.next=10;break}return n.next=5,i.collection("like").where({user_id:e.$store.state.user.info._id,like_id:e.id,state_type:1}).remove();case 5:uni.showToast({title:"取消点赞"}),e.isdz=!1,e.lengths-=1,n.next=15;break;case 10:return n.next=12,i.collection("like").add(a);case 12:uni.showToast({title:"点赞成功"}),e.isdz=!0,e.lengths+=1;case 15:case"end":return n.stop()}}),n)})))()},getdetails:function(){var e=this;return(0,o.default)(regeneratorRuntime.mark((function n(){var i,o,r,s,c,l,u,d,m,f,p,v,h,g,_,b;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return i=t.database(),n.next=3,i.collection("love,uni-id-users").where({_id:e.id}).field("_id,watch,time,school,isShow,address,statetext,state,img_url,fabulous,text,collection,user_id._id,user_id.mobile,user_id.nickname,user_id.avatar_file.url").get();case 3:return o=n.sent,n.next=6,i.collection("like").where({like_id:e.id}).get();case 6:r=n.sent,s=o.result.data,c=r.result.data,console.log("data",s),l=s[0],u=l._id,d=l.watch,m=l.statetext,f=l.time,p=l.img_url,v=l.user_id,h=l.text,g=l.state,_=l.isShow,b=l.address,e.statetext=m,e.watch=d,e.time=f,e._id=u,e.isShow=_,e.address=b,e.img_url=p,e.state=g,e.user_id=v[0],e.text=h,c.forEach((function(t){t.state_type?e.likedz=[].concat((0,a.default)(e.likedz),[t]):e.likesc=[].concat((0,a.default)(e.likesc),[t])})),e.likedz.forEach((function(t){t.user_id!=e.$store.state.user.info._id||(e.isdz=!0)}));case 23:case"end":return n.stop()}}),n)})))()}}};e.default=c}).call(this,n("a9ff")["default"])},"5c9d":function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return i}));var i={uIcon:n("57fa").default},a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.show?n("v-uni-view",{staticClass:"u-empty",style:{marginTop:t.marginTop+"rpx"}},[n("u-icon",{attrs:{name:t.src?t.src:"empty-"+t.mode,"custom-style":t.iconStyle,label:t.text?t.text:t.icons[t.mode],"label-pos":"bottom","label-color":t.color,"label-size":t.fontSize,size:t.iconSize,color:t.iconColor,"margin-top":"14"}}),n("v-uni-view",{staticClass:"u-slot-wrap"},[t._t("bottom")],2)],1):t._e()},o=[]},6129:function(t,e,n){var i=n("24fb");e=i(!1),e.push([t.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.u-back-top[data-v-f47233f4]{width:%?80?%;height:%?80?%;position:fixed;z-index:9;display:flex;flex-direction:row;flex-direction:column;justify-content:center;background-color:#e1e1e1;color:#606266;align-items:center;transition:opacity .4s}.u-back-top__content[data-v-f47233f4]{display:flex;flex-direction:row;flex-direction:column;align-items:center}.u-back-top__content__tips[data-v-f47233f4]{font-size:%?24?%;-webkit-transform:scale(.8);transform:scale(.8);line-height:1}',""]),t.exports=e},"688c":function(t,e,n){"use strict";var i=n("331e"),a=n.n(i);a.a},"73d6":function(t,e,n){"use strict";n.r(e);var i=n("aaf1"),a=n("1103");for(var o in a)"default"!==o&&function(t){n.d(e,t,(function(){return a[t]}))}(o);n("9246");var r,s=n("f0c5"),c=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,"f47233f4",null,!1,i["a"],r);e["default"]=c.exports},"74bd":function(t,e,n){"use strict";n.r(e);var i=n("c3ae"),a=n("cf7d");for(var o in a)"default"!==o&&function(t){n.d(e,t,(function(){return a[t]}))}(o);n("b95f");var r,s=n("f0c5"),c=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,"7fcb02fa",null,!1,i["a"],r);e["default"]=c.exports},"77cc":function(t,e,n){var i=n("d6a0");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var a=n("4f06").default;a("34781f8c",i,!0,{sourceMap:!1,shadowMode:!1})},"832c":function(t,e,n){"use strict";var i;n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return i}));var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"mask",class:0===t.maskState?"none":1===t.maskState?"show":"",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.toggleMask.apply(void 0,arguments)}}},[n("v-uni-view",{staticClass:"mask-content",on:{click:function(e){e.stopPropagation(),e.preventDefault(),arguments[0]=e=t.$handleEvent(e),t.stopPrevent.apply(void 0,arguments)}}},[n("v-uni-view",{staticClass:"mask-content-input"},[n("v-uni-textarea",{staticClass:"textarea",attrs:{"auto-height":!0,placeholder:t.placeholder,"cursor-spacing":100,"show-confirm-bar":!1,focus:t.focus,maxlength:"140"},model:{value:t.content,callback:function(e){t.content=e},expression:"content"}}),n("v-uni-view",{staticClass:"right",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.pubComment.apply(void 0,arguments)}}},[t._v("发布")])],1)],1)],1)},o=[]},9246:function(t,e,n){"use strict";var i=n("c7b4"),a=n.n(i);a.a},"94cd":function(t,e,n){"use strict";n.r(e);var i=n("9761"),a=n("213d");for(var o in a)"default"!==o&&function(t){n.d(e,t,(function(){return a[t]}))}(o);n("f134");var r,s=n("f0c5"),c=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,"636b7930",null,!1,i["a"],r);e["default"]=c.exports},9761:function(t,e,n){"use strict";var i;n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return i}));var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.show?n("v-uni-view",{staticClass:"u-loading",class:"circle"==t.mode?"u-loading-circle":"u-loading-flower",style:[t.cricleStyle]}):t._e()},o=[]},"98e0":function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return i}));var i={uPopup:n("9352").default,uLoading:n("94cd").default},a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",[n("u-popup",{attrs:{zoom:t.zoom,mode:"center",popup:!1,"z-index":t.uZIndex,length:t.width,"mask-close-able":t.maskCloseAble,"border-radius":t.borderRadius,"negative-top":t.negativeTop},on:{close:function(e){arguments[0]=e=t.$handleEvent(e),t.popupClose.apply(void 0,arguments)}},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},[n("v-uni-view",{staticClass:"u-model"},[t.showTitle?n("v-uni-view",{staticClass:"u-model__title u-line-1",style:[t.titleStyle]},[t._v(t._s(t.title))]):t._e(),n("v-uni-view",{staticClass:"u-model__content"},[t.$slots.default||t.$slots.$default?n("v-uni-view",{style:[t.contentStyle]},[t._t("default")],2):n("v-uni-view",{staticClass:"u-model__content__message",style:[t.contentStyle]},[t._v(t._s(t.content))])],1),t.showCancelButton||t.showConfirmButton?n("v-uni-view",{staticClass:"u-model__footer u-border-top"},[t.showCancelButton?n("v-uni-view",{staticClass:"u-model__footer__button",style:[t.cancelBtnStyle],attrs:{"hover-stay-time":100,"hover-class":"u-model__btn--hover"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.cancel.apply(void 0,arguments)}}},[t._v(t._s(t.cancelText))]):t._e(),t.showConfirmButton||t.$slots["confirm-button"]?n("v-uni-view",{staticClass:"u-model__footer__button hairline-left",style:[t.confirmBtnStyle],attrs:{"hover-stay-time":100,"hover-class":t.asyncClose?"none":"u-model__btn--hover"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.confirm.apply(void 0,arguments)}}},[t.$slots["confirm-button"]?t._t("confirm-button"):[t.loading?n("u-loading",{attrs:{mode:"circle",color:t.confirmColor}}):[t._v(t._s(t.confirmText))]]],2):t._e()],1):t._e()],1)],1)],1)},o=[]},a399:function(t,e,n){"use strict";n("a9e3"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={name:"u-empty",props:{src:{type:String,default:""},text:{type:String,default:""},color:{type:String,default:"#c0c4cc"},iconColor:{type:String,default:"#c0c4cc"},iconSize:{type:[String,Number],default:120},fontSize:{type:[String,Number],default:26},mode:{type:String,default:"data"},imgWidth:{type:[String,Number],default:120},imgHeight:{type:[String,Number],default:"auto"},show:{type:Boolean,default:!0},marginTop:{type:[String,Number],default:0},iconStyle:{type:Object,default:function(){return{}}}},data:function(){return{icons:{car:"购物车为空",page:"页面不存在",search:"没有搜索结果",address:"没有收货地址",wifi:"没有WiFi",order:"订单为空",coupon:"没有优惠券",favor:"暂无收藏",permission:"无权限",history:"无历史记录",news:"无新闻列表",message:"消息列表为空",list:"列表为空",data:"数据为空"}}}};e.default=i},a8aa:function(t,e,n){"use strict";n.r(e);var i=n("1c10"),a=n.n(i);for(var o in i)"default"!==o&&function(t){n.d(e,t,(function(){return i[t]}))}(o);e["default"]=a.a},aaf1:function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return i}));var i={uIcon:n("57fa").default},a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"u-back-top",class:["u-back-top--mode--"+t.mode],style:[{bottom:t.bottom+"rpx",right:t.right+"rpx",borderRadius:"circle"==t.mode?"10000rpx":"8rpx",zIndex:t.uZIndex,opacity:t.opacity},t.customStyle],on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.backToTop.apply(void 0,arguments)}}},[t.$slots.default||t.$slots.$default?t._t("default"):n("v-uni-view",{staticClass:"u-back-top__content"},[n("u-icon",{attrs:{name:t.icon,"custom-style":t.iconStyle},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.backToTop.apply(void 0,arguments)}}}),n("v-uni-view",{staticClass:"u-back-top__content__tips"},[t._v(t._s(t.tips))])],1)],2)},o=[]},b13a:function(t,e,n){"use strict";var i=n("d250"),a=n.n(i);a.a},b940:function(t,e,n){var i=n("393e");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var a=n("4f06").default;a("1baebb02",i,!0,{sourceMap:!1,shadowMode:!1})},b95f:function(t,e,n){"use strict";var i=n("0675"),a=n.n(i);a.a},baf5:function(t,e,n){"use strict";n.r(e);var i=n("a399"),a=n.n(i);for(var o in i)"default"!==o&&function(t){n.d(e,t,(function(){return i[t]}))}(o);e["default"]=a.a},bff3:function(t,e,n){"use strict";n.r(e);var i=n("5c9d"),a=n("baf5");for(var o in a)"default"!==o&&function(t){n.d(e,t,(function(){return a[t]}))}(o);n("c3aa");var r,s=n("f0c5"),c=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,"21937aaa",null,!1,i["a"],r);e["default"]=c.exports},c3aa:function(t,e,n){"use strict";var i=n("77cc"),a=n.n(i);a.a},c3ae:function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return i}));var i={uIcon:n("57fa").default,uPopup:n("9352").default},a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"zwz-comment"},[n("v-uni-scroll-view",{attrs:{"scroll-y":"false"},on:{scrolltolower:function(e){arguments[0]=e=t.$handleEvent(e),t.lower.apply(void 0,arguments)}}},t._l(t.comments,(function(e,i){return n("v-uni-view",{key:e.id,staticClass:"comment-item-main",attrs:{id:i}},[n("v-uni-view",{staticClass:"comment-item"},[n("v-uni-view",{staticClass:"left"},[n("v-uni-image",{staticClass:"img",attrs:{src:e.avatar}})],1),n("v-uni-view",{staticClass:"content"},[n("v-uni-view",{staticClass:"title-name"},[t._v(t._s(e.nickname))]),n("v-uni-view",{staticClass:"content-text",on:{longpress:function(n){arguments[0]=n=t.$handleEvent(n),t.show(e.nickname,e.id,1,i,e,e.content)},click:function(n){arguments[0]=n=t.$handleEvent(n),t.replyComment(e.nickname,e.id,2,i,e)}}},[n("v-uni-text",[t._v(t._s(e.content))])],1),n("v-uni-view",{staticClass:"content-btm",on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.replyComment(e.nickname,e.id,2,i,e)}}},[n("v-uni-text",[t._v(t._s(t.$u.timeFrom(e.addTime,"yyyy-mm-dd hh:MM:ss")))]),n("v-uni-text",{staticClass:"btm-back"},[t._v("回复")])],1)],1)],1),-1!==t.showReplyList.indexOf(e.id)?n("v-uni-view",t._l(e.children,(function(a){return n("v-uni-view",{key:a.id,staticClass:"comment-item items"},[n("v-uni-view",{staticClass:"left"},[n("v-uni-image",{staticClass:"img",attrs:{src:a.avatar}})],1),n("v-uni-view",{staticClass:"content"},[n("v-uni-view",{staticClass:"title-name"},[n("v-uni-view",[t._v(t._s(a.nickname)+t._s(a.layer))]),a.superNickname&&3==a.layer?n("v-uni-view",[n("u-icon",{attrs:{name:"play-right-fill",size:"10"}})],1):t._e(),a.superNickname&&3==a.layer?n("v-uni-view",[t._v(t._s(a.superNickname))]):t._e()],1),n("v-uni-view",{staticClass:"content-text",on:{longpress:function(n){arguments[0]=n=t.$handleEvent(n),t.show(e.nickname,e.id,2,i,a,a.content)},click:function(e){arguments[0]=e=t.$handleEvent(e),t.replyComment(a.nickname,a.superCommentId,3,i,a)}}},[n("v-uni-text",[t._v(t._s(a.content))])],1),n("v-uni-view",{staticClass:"content-btm",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.replyComment(a.nickname,a.superCommentId,3,i,a)}}},[n("v-uni-text",[t._v(t._s(t.$u.timeFrom(a.addTime,"yyyy-mm-dd hh:MM:ss")))]),n("v-uni-text",{staticClass:"btm-back"},[t._v("回复")])],1)],1)],1)})),1):t._e(),e.children.length>0?n("v-uni-view",{staticClass:"spread",on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.isShowReply(e.id,i)}}},[n("v-uni-text",[t._v(t._s(-1!==t.showReplyList.indexOf(e.id)?"收起":"展开"+e.children.length+"条回复"))]),n("v-uni-text",{class:-1!==t.showReplyList.indexOf(e.id)?"up":"down"})],1):t._e()],1)})),1),n("u-popup",{attrs:{mode:"bottom"},model:{value:t.isshow,callback:function(e){t.isshow=e},expression:"isshow"}},[n("v-uni-view",[t.isshowdeleteid==t.deleteuser_id||t.user._id==t.isshowdeleteid?n("v-uni-view",{staticClass:"item isboder",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.deletecomment.apply(void 0,arguments)}}},[t._v("删除")]):t._e(),n("v-uni-view",{staticClass:"item isboder"},[t._v("举报")]),n("v-uni-view",{staticClass:"item",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.copy.apply(void 0,arguments)}}},[t._v("复制")]),n("v-uni-view",{staticStyle:{width:"100vw",height:"12rpx","background-color":"#EAEAEC"}}),n("v-uni-view",{staticClass:"item",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.isshow=!1}}},[t._v("取消")])],1)],1)],1)},o=[]},c4a0:function(t,e,n){var i=n("24fb");e=i(!1),e.push([t.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.item[data-v-7fcb02fa]{display:flex;color:#303133;justify-content:center;font-size:%?36?%;padding:%?34?% 0;line-height:1}.isboder[data-v-7fcb02fa]{border-bottom:%?1?% solid #f4f6f8}.zwz-comment[data-v-7fcb02fa]{width:100vw;background-color:#fff}.zwz-comment .comment-num[data-v-7fcb02fa]{text-align:center;color:#c1c6cc;height:%?38?%;margin-top:%?10?%}.comment-item-main[data-v-7fcb02fa]{margin-bottom:%?10?%}.comment-item-main .comment-item[data-v-7fcb02fa]{display:flex;padding:0 %?20?%}.comment-item-main .comment-item .left[data-v-7fcb02fa]{width:%?80?%;height:%?80?%;border-radius:50%;overflow:hidden}.comment-item-main .comment-item .left .img[data-v-7fcb02fa]{width:%?80?%;height:%?80?%}.comment-item-main .comment-item .content[data-v-7fcb02fa]{flex:1;margin:0 %?20?%}.comment-item-main .comment-item .content .title-name[data-v-7fcb02fa]{color:#bbb\n  /* display: inline-block; */}.comment-item-main .comment-item .content .title-name uni-view[data-v-7fcb02fa]{max-width:%?250?%;display:inline-block;margin-right:%?10?%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.comment-item-main .comment-item .content .content-text[data-v-7fcb02fa]{\n  /* width: 480rpx; */font-size:16px;margin:%?20?% 0}.comment-item-main .comment-item .content .content-btm[data-v-7fcb02fa]{color:#bbb;margin-bottom:%?30?%}.comment-item-main .comment-item .content .content-btm .btm-back[data-v-7fcb02fa]{margin-left:%?40?%;font-size:16px}.comment-item-main .comment-item .right[data-v-7fcb02fa]{height:%?70?%}.comment-item-main .comment-item .right .img-like uni-image[data-v-7fcb02fa]{display:block;width:%?50?%;height:%?50?%;margin-top:%?20?%}.comment-item-main .spread[data-v-7fcb02fa]{color:#bbb;margin-left:%?80?%;height:17px;position:relative}.comment-item-main .spread .down[data-v-7fcb02fa]{width:0;height:0;position:absolute;margin-left:5px;top:7px;border-right:8px solid transparent;border-left:8px solid transparent;border-bottom:8px solid transparent;border-top:8px solid #bbb}.comment-item-main .spread .up[data-v-7fcb02fa]{width:0;height:0;position:absolute;margin-left:5px;bottom:4px;border-right:8px solid transparent;border-left:8px solid transparent;border-bottom:8px solid #bbb;border-top:8px solid transparent}.items[data-v-7fcb02fa]{margin-left:%?80?%}.comment-btm[data-v-7fcb02fa]{height:%?100?%;width:100%;display:flex;\n  /* position: absolute; */bottom:0;background-color:#fff;border-top:%?2?% solid #e0e0e0}.comment-btm uni-input[data-v-7fcb02fa]{height:%?80?%;width:%?400?%;border-radius:%?20?%;background-color:#f3f3f3;margin-left:%?80?%;margin-top:%?10?%;padding:%?10?%}.comment-btm uni-button[data-v-7fcb02fa]{height:%?80?%;margin-top:%?10?%}.comment-like-num[data-v-7fcb02fa]{display:inline-block;width:%?50?%;text-align:center}',""]),t.exports=e},c738:function(t,e,n){"use strict";n("a9e3"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={name:"u-back-top",props:{mode:{type:String,default:"circle"},icon:{type:String,default:"arrow-upward"},tips:{type:String,default:""},duration:{type:[Number,String],default:100},scrollTop:{type:[Number,String],default:0},top:{type:[Number,String],default:400},bottom:{type:[Number,String],default:200},right:{type:[Number,String],default:40},zIndex:{type:[Number,String],default:"9"},iconStyle:{type:Object,default:function(){return{color:"#909399",fontSize:"38rpx"}}},customStyle:{type:Object,default:function(){return{}}}},watch:{showBackTop:function(t,e){t?(this.uZIndex=this.zIndex,this.opacity=1):(this.uZIndex=-1,this.opacity=0)}},computed:{showBackTop:function(){return this.scrollTop>uni.upx2px(this.top)}},data:function(){return{opacity:0,uZIndex:-1}},methods:{backToTop:function(){uni.pageScrollTo({scrollTop:0,duration:this.duration})}}};e.default=i},c7b4:function(t,e,n){var i=n("6129");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var a=n("4f06").default;a("2f127e62",i,!0,{sourceMap:!1,shadowMode:!1})},cf7d:function(t,e,n){"use strict";n.r(e);var i=n("fc8e"),a=n.n(i);for(var o in i)"default"!==o&&function(t){n.d(e,t,(function(){return i[t]}))}(o);e["default"]=a.a},d250:function(t,e,n){var i=n("0066");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var a=n("4f06").default;a("1fdfffd5",i,!0,{sourceMap:!1,shadowMode:!1})},d2b4:function(t,e,n){"use strict";var i=n("2fc1"),a=n.n(i);a.a},d6a0:function(t,e,n){var i=n("24fb");e=i(!1),e.push([t.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.u-empty[data-v-21937aaa]{display:flex;flex-direction:row;flex-direction:column;justify-content:center;align-items:center;height:100%}.u-image[data-v-21937aaa]{margin-bottom:%?20?%}.u-slot-wrap[data-v-21937aaa]{display:flex;flex-direction:row;justify-content:center;align-items:center;margin-top:%?20?%}',""]),t.exports=e},da4e:function(t,e,n){"use strict";n.r(e);var i=n("595c"),a=n.n(i);for(var o in i)"default"!==o&&function(t){n.d(e,t,(function(){return i[t]}))}(o);e["default"]=a.a},e657:function(t,e,n){var i=n("24fb");e=i(!1),e.push([t.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.address[data-v-4d96f263]{display:flex;padding-left:%?15?%}.bottom-input[data-v-4d96f263]{width:100%;height:%?80?%;background-color:red;position:fixed;bottom:%?0?%;right:%?0?%;left:%?0?%}.pl[data-v-4d96f263]{display:flex;font-size:%?30?%;padding:%?20?%}.pl .avatar[data-v-4d96f263]{margin-right:%?15?%}.textitem[data-v-4d96f263]{padding:%?20?%}.text[data-v-4d96f263]{margin-top:%?20?%}.content[data-v-4d96f263]{display:flex}.content .name[data-v-4d96f263]{display:flex;margin-left:%?20?%;flex-direction:column;justify-content:space-around}.line[data-v-4d96f263]{width:100%;height:%?1?%;background-color:#eeeded}.rich[data-v-4d96f263]{color:#5c5d61;font-size:%?34?%;padding:%?20?%}.u-image[data-v-4d96f263]{max-width:90vw;border-radius:%?15?%}.image1[data-v-4d96f263]{margin-top:%?20?%;flex-wrap:wrap;display:flex}.watch[data-v-4d96f263]{padding:%?20?%;display:flex;justify-content:space-between}.watch .right[data-v-4d96f263]{display:flex;color:#afb2b7;font-size:%?30?%}.bottom-title[data-v-4d96f263]{display:flex;justify-content:space-between;padding:%?20?%}',""]),t.exports=e},ea10:function(t,e,n){"use strict";n.r(e);var i=n("1ffd"),a=n("da4e");for(var o in a)"default"!==o&&function(t){n.d(e,t,(function(){return a[t]}))}(o);n("d2b4");var r,s=n("f0c5"),c=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,"4d96f263",null,!1,i["a"],r);e["default"]=c.exports},edce:function(t,e,n){var i=n("24fb");e=i(!1),e.push([t.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.mask[data-v-70d9c9cd]{display:flex;align-items:flex-end;position:fixed;left:0;top:var(--window-top);bottom:0;width:100%;background:transparent;z-index:9995;transition:.1s;-webkit-transition:.1s}.mask .mask-content[data-v-70d9c9cd]{width:100%;background:#fff;-webkit-transform:translateY(100%);transform:translateY(100%);transition:.1s;-webkit-transition:.1s;display:flex;flex-direction:column}.mask .mask-content .mask-content-topbar[data-v-70d9c9cd]{display:flex;flex-direction:row;justify-content:space-between;padding:%?20?% %?30?% %?10?%;font-size:%?32?%}.mask .mask-content .mask-content-topbar .left[data-v-70d9c9cd]{padding:%?10?% %?0?%;color:#606266}.mask .mask-content .mask-content-input[data-v-70d9c9cd]{display:flex;width:100%;padding:%?16?% %?16?% %?20?%}.mask .mask-content .mask-content-input .textarea[data-v-70d9c9cd]{width:%?530?%;padding:%?16?%;border:%?2?% solid #d5d5d6;border-radius:%?50?%}.mask .mask-content .mask-content-input .right[data-v-70d9c9cd]{background-color:#ee983a;color:#fff;width:%?130?%;text-align:center;line-height:%?80?%;border-radius:%?50?%;margin-right:%?20?%;margin-left:%?20?%}.mask.none[data-v-70d9c9cd]{display:none}.mask.show[data-v-70d9c9cd]{background:rgba(0,0,0,.4)}.mask.show .mask-content[data-v-70d9c9cd]{-webkit-transform:translateY(0);transform:translateY(0)}',""]),t.exports=e},f134:function(t,e,n){"use strict";var i=n("b940"),a=n.n(i);a.a},f843:function(t,e,n){"use strict";n.r(e);var i=n("98e0"),a=n("a8aa");for(var o in a)"default"!==o&&function(t){n.d(e,t,(function(){return a[t]}))}(o);n("b13a");var r,s=n("f0c5"),c=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,"fad1e88e",null,!1,i["a"],r);e["default"]=c.exports},f8b2:function(t,e,n){"use strict";n("a9e3"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={name:"u-loading",props:{mode:{type:String,default:"circle"},color:{type:String,default:"#c7c7c7"},size:{type:[String,Number],default:"34"},show:{type:Boolean,default:!0}},computed:{cricleStyle:function(){var t={};return t.width=this.size+"rpx",t.height=this.size+"rpx","circle"==this.mode&&(t.borderColor="#e4e4e4 #e4e4e4 #e4e4e4 ".concat(this.color?this.color:"#c7c7c7")),t}}};e.default=i},fc8e:function(t,e,n){"use strict";(function(t){var i=n("4ea4");n("4160"),n("c975"),n("a434"),n("159b"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n("96cf");var a=i(n("1da1")),o={name:"zwz-comment",props:{comments:{type:Array,default:function(){return[]}},user:{type:Object,default:function(){return{}}},value:""},data:function(){return{showReplyList:[],copytext:"",isshowdeleteid:this.$store.state.user.info._id,placeholderComment:"发条评论吧~",iptFocus:!1,layer:1,deleteuser_id:"",deleteid:"",isshow:!1,superCommentId:null}},computed:{isdisabled:function(){return this.isshowdeleteid!=this.deleteuser_id}},methods:{copy:function(){this.isshow=!1,uni.setClipboardData({data:this.copytext,success:function(){console.log("success")}})},isShowReply:function(t,e){if(-1==this.showReplyList.indexOf(t))this.showReplyList.push(t),this.$emit("reply-click",this.book);else{var n=this.showReplyList.indexOf(t);this.showReplyList.splice(n,1)}},click:function(t){console.log(this.list[t].text),"删除"===this.list[t].text&&this.deletecomment()},commentLike:function(t){this.$emit("comment-like",t)},replyComment:function(t,e,n,i,a){this.$bus.$emit("comment"),console.log("index",i),this.iptFocus=!0,this.placeholderComment="回复@"+t,this.superCommentId=e,this.superUserId=t,this.layer=n,this.CommentIndex=i,this.$emit("reply",this.placeholderComment,i,e,t,n,a)},show:function(t,e,n,i,a,o){console.log(this.user),this.user_id=this.user,this.isshow=!0,this.copytext=o,this.deleteuser_id=a.user_id,this.deleteid=a.id,this.superCommentId=e,this.layer=n,console.log("长按",this.layer)},deletecomment:function(){var e=this;return(0,a.default)(regeneratorRuntime.mark((function n(){var i,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return e.isshow=!1,i=t.database(),a=i.command,n.next=5,i.collection("comments").where(a.or({_id:e.deleteid,user_id:e.$store.state.user.info._id},{_id:e.deleteid,article_user_id:e.user._id})).remove();case 5:if(1!=e.layer){n.next=12;break}return n.next=8,i.collection("comments").where({reply_id:e.superCommentId}).remove();case 8:n.sent,e.comments.forEach((function(t,n){t.id==e.deleteid&&e.comments.splice(n,1)})),n.next=13;break;case 12:e.comments.forEach((function(t,n){t.id==e.superCommentId&&t.children.forEach((function(n,i){n.id==e.deleteid&&t.children.splice(i,1)}))}));case 13:uni.showToast({title:"删除成功",icon:"none"}),e.isshow=!1;case 15:case"end":return n.stop()}}),n)})))()},sendCourseComment:function(){this.$emit("send-comment",this.layer,this.superCommentId)},input:function(t){this.$emit("input",t.target.value)},lower:function(){console.log("222222"),this.$emit("lower")}}};e.default=o}).call(this,n("a9ff")["default"])}}]);