(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["components/comment/comment"],{"0298":function(e,t,n){"use strict";var i=n("fb40"),o=n.n(i);o.a},"44e7":function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return i}));var i={uIcon:function(){return n.e("node-modules/uview-ui/components/u-icon/u-icon").then(n.bind(null,"57fa"))},uPopup:function(){return n.e("node-modules/uview-ui/components/u-popup/u-popup").then(n.bind(null,"9352"))},uCellGroup:function(){return n.e("node-modules/uview-ui/components/u-cell-group/u-cell-group").then(n.bind(null,"c68f"))},uCellItem:function(){return n.e("node-modules/uview-ui/components/u-cell-item/u-cell-item").then(n.bind(null,"b5ef"))}},o=function(){var e=this,t=e.$createElement,n=(e._self._c,e.__map(e.comments,(function(t,n){var i=e.__get_orig(t),o=e.$u.timeFrom(t.addTime,"yyyy-mm-dd hh:MM:ss"),s=e.showReplyList.indexOf(t.id),u=-1!==s?e.__map(t.children,(function(t,n){var i=e.__get_orig(t),o=e.$u.timeFrom(t.addTime,"yyyy-mm-dd hh:MM:ss");return{$orig:i,g2:o}})):null,r=t.children.length>0?e.showReplyList.indexOf(t.id):null,l=t.children.length>0?e.showReplyList.indexOf(t.id):null;return{$orig:i,g0:o,g1:s,l0:u,g3:r,g4:l}})));e.$mp.data=Object.assign({},{$root:{l1:n}})},s=[]},"74bd":function(e,t,n){"use strict";n.r(t);var i=n("44e7"),o=n("cf7d");for(var s in o)"default"!==s&&function(e){n.d(t,e,(function(){return o[e]}))}(s);n("0298");var u,r=n("f0c5"),l=Object(r["a"])(o["default"],i["b"],i["c"],!1,null,"5da60324",null,!1,i["a"],u);t["default"]=l.exports},b4c1:function(e,t,n){"use strict";(function(e,i){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=s(n("a34a"));function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t,n,i,o,s,u){try{var r=e[s](u),l=r.value}catch(c){return void n(c)}r.done?t(l):Promise.resolve(l).then(i,o)}function r(e){return function(){var t=this,n=arguments;return new Promise((function(i,o){var s=e.apply(t,n);function r(e){u(s,i,o,r,l,"next",e)}function l(e){u(s,i,o,r,l,"throw",e)}r(void 0)}))}}var l={name:"zwz-comment",props:{comments:{type:Array,default:function(){return[]}},value:""},data:function(){return{showReplyList:[],isshowdeleteid:this.$store.state.user.info._id,placeholderComment:"发条评论吧~",iptFocus:!1,layer:1,deleteuser_id:"",deleteid:"",isshow:!1,superCommentId:null}},methods:{isShowReply:function(e,t){if(-1==this.showReplyList.indexOf(e))this.showReplyList.push(e),this.$emit("reply-click",this.book);else{var n=this.showReplyList.indexOf(e);this.showReplyList.splice(n,1)}},commentLike:function(e){this.$emit("comment-like",e)},replyComment:function(e,t,n,i,o){console.log("commment",this.comments),this.$bus.$emit("comment"),console.log("index",i),this.iptFocus=!0,this.placeholderComment="回复@"+e,this.superCommentId=t,this.superUserId=e,this.layer=n,this.CommentIndex=i,this.$emit("reply",this.placeholderComment,i,t,e,n,o)},show:function(e,t,n,i,o){this.isshow=!0,this.deleteuser_id=o.user_id,this.deleteid=o.id,this.superCommentId=t,this.layer=n,console.log("长按",this.layer),console.log(this.superCommentId)},deletecomment:function(){var t=this;return r(o.default.mark((function n(){var s;return o.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return s=e.database(),n.next=3,s.collection("comments").where({_id:t.deleteid,user_id:t.$store.state.user.info._id}).remove();case 3:if(1!=t.layer){n.next=10;break}return n.next=6,s.collection("comments").where({reply_id:t.superCommentId}).remove();case 6:n.sent,t.comments.forEach((function(e,n){e.id==t.deleteid&&t.comments.splice(n,1)})),n.next=11;break;case 10:t.comments.forEach((function(e,n){e.id==t.superCommentId&&e.children.forEach((function(n,i){n.id==t.deleteid&&e.children.splice(i,1)}))}));case 11:i.showToast({title:"删除成功"}),t.isshow=!1;case 13:case"end":return n.stop()}}),n)})))()},sendCourseComment:function(){this.$emit("send-comment",this.layer,this.superCommentId)},input:function(e){this.$emit("input",e.target.value)},lower:function(){console.log("222222"),this.$emit("lower")}}};t.default=l}).call(this,n("a9ff")["default"],n("543d")["default"])},cf7d:function(e,t,n){"use strict";n.r(t);var i=n("b4c1"),o=n.n(i);for(var s in i)"default"!==s&&function(e){n.d(t,e,(function(){return i[e]}))}(s);t["default"]=o.a},fb40:function(e,t,n){}}]);
;(global["webpackJsonp"] = global["webpackJsonp"] || []).push([
    'components/comment/comment-create-component',
    {
        'components/comment/comment-create-component':(function(module, exports, __webpack_require__){
            __webpack_require__('543d')['createComponent'](__webpack_require__("74bd"))
        })
    },
    [['components/comment/comment-create-component']]
]);
